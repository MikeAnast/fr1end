{"ast":null,"code":"import _regeneratorRuntime from\"/home/manastas/fr1end/lotr/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/manastas/fr1end/lotr/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/manastas/fr1end/lotr/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import validate from'../services/validateToken';import{useNavigate}from\"react-router-dom\";import{Footer}from\".\";import gandalf from'../images/gandalf.gif';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Moria=function Moria(_ref){var token=_ref.token;var _useState=useState(),_useState2=_slicedToArray(_useState,2),userDetails=_useState2[0],setuserDetails=_useState2[1];var tokenString=localStorage.getItem('token');var userToken=JSON.parse(tokenString);var navigate=useNavigate();useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var userData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!userToken){_context.next=7;break;}_context.next=3;return validate(userToken);case 3:userData=_context.sent;if(userData){setuserDetails(userData['message']);sessionStorage.setItem('k',JSON.stringify(userData['k']));}else{setuserDetails();navigate('/');}_context.next=9;break;case 7:setuserDetails();navigate('/');case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\" flex w-full justify-center items-center relative bg-gradient-to-r from-slate-500 to-blue-900\",children:[/*#__PURE__*/_jsx(\"img\",{src:gandalf,alt:\"\",className:\"w-13 object-top cursor-pointer\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"italic text-3xl sm:text-3xl text-white text-gradient  py-4\",children:[\"Hello Traveler \",userDetails,\"!\"]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Moria;","map":{"version":3,"names":["useEffect","useState","validate","useNavigate","Footer","gandalf","Moria","token","userDetails","setuserDetails","tokenString","localStorage","getItem","userToken","JSON","parse","navigate","fetchData","userData","sessionStorage","setItem","stringify"],"sources":["/home/manastas/fr1end/lotr/src/components/Moria.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport validate from '../services/validateToken';\nimport { useNavigate } from \"react-router-dom\";\nimport { Footer} from \".\";\nimport gandalf from '../images/gandalf.gif';\n\nconst Moria = ({token}) => {\n\n    const [userDetails,setuserDetails] = useState();\n    const tokenString = localStorage.getItem('token');\n    const userToken = JSON.parse(tokenString);    \n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchData = async () => {\n            if (userToken) {\n                const userData = await validate(userToken);\n                if (userData){\n                    setuserDetails(userData['message']);\n                    sessionStorage.setItem('k',JSON.stringify(userData['k']));\n                } else {\n                    setuserDetails();\n                    navigate('/');\n                }\n            } else {\n                setuserDetails();\n                navigate('/');\n            }\n\n\n        };\n        fetchData();\n    }, []);\n        return (\n            \n            <div>\n            <div  className=\" flex w-full justify-center items-center relative bg-gradient-to-r from-slate-500 to-blue-900\">\n            <img src={gandalf}  alt=\"\" className=\"w-13 object-top cursor-pointer\"/>\n                    <h1 className=\"italic text-3xl sm:text-3xl text-white text-gradient  py-4\">\n                    Hello Traveler {userDetails}! \n                    </h1>\n            </div>\n            <Footer />\n            </div>\n        )\n};\n\nexport default Moria;"],"mappings":"gWAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,SAAP,KAAqB,2BAArB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,MAAT,KAAsB,GAAtB,CACA,MAAOC,QAAP,KAAoB,uBAApB,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,MAAa,IAAXC,MAAW,MAAXA,KAAW,CAEvB,cAAqCN,QAAQ,EAA7C,wCAAOO,WAAP,eAAmBC,cAAnB,eACA,GAAMC,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB,CACA,GAAMC,UAAS,CAAGC,IAAI,CAACC,KAAL,CAAWL,WAAX,CAAlB,CACA,GAAMM,SAAQ,CAAGb,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAM,CACZ,GAAMiB,UAAS,6FAAG,sJACVJ,SADU,+CAEaX,SAAQ,CAACW,SAAD,CAFrB,QAEJK,QAFI,eAGV,GAAIA,QAAJ,CAAa,CACTT,cAAc,CAACS,QAAQ,CAAC,SAAD,CAAT,CAAd,CACAC,cAAc,CAACC,OAAf,CAAuB,GAAvB,CAA2BN,IAAI,CAACO,SAAL,CAAeH,QAAQ,CAAC,GAAD,CAAvB,CAA3B,EACH,CAHD,IAGO,CACHT,cAAc,GACdO,QAAQ,CAAC,GAAD,CAAR,CACH,CATS,6BAWVP,cAAc,GACdO,QAAQ,CAAC,GAAD,CAAR,CAZU,sDAAH,kBAATC,UAAS,2CAAf,CAiBAA,SAAS,GACZ,CAnBQ,CAmBN,EAnBM,CAAT,CAoBI,mBAEI,oCACA,aAAM,SAAS,CAAC,+FAAhB,wBACA,YAAK,GAAG,CAAEZ,OAAV,CAAoB,GAAG,CAAC,EAAxB,CAA2B,SAAS,CAAC,gCAArC,EADA,cAEQ,YAAI,SAAS,CAAC,4DAAd,6BACgBG,WADhB,OAFR,GADA,cAOA,KAAC,MAAD,IAPA,GAFJ,CAYP,CAvCD,CAyCA,cAAeF,MAAf"},"metadata":{},"sourceType":"module"}